.\"
.\" zonec.8 -- zonec manual
.\"
.\" Copyright (c) 2001-2006, NLnet Labs. All rights reserved.
.\"
.\" See LICENSE for the license.
.\"
.\"
.Dd @date@
.Os FreeBSD
.Dt zonec 8 
.Sh NAME
.Nm zonec
.Nd NSD Zone Compiler version @version@.
.Sh SYNOPSIS
.Nm zonec
.Op Fl v
.Op Fl h
.Op Fl L
.Op Fl F
.Op Fl c Ar configfile
.Op Fl d Ar directory
.Op Fl o Ar origin
.Op Fl z Ar zonefile
.Op Fl f Ar database
.Sh DESCRIPTION
.Ic Zonec
is the
.Xr nsd 8
database compiler for creating name space databases from a set of
input master zone files specified in
.Xr nsd.conf 5
file. 
.Pp
It is normally invoked via
.Xr nsdc 8
rebuild command.
.Ic Zonec
will then parse every zone in
.Xr nsd.conf 5
file and add it to the name space database,
.Pa /etc/nsd/nsd.db
by default, that is used by
.Xr nsd 8
to answer incoming queries.
.Pp
The available options are:
.Bl -tag -width indent
.It Fl c Ar configfile
Read specified configfile instead of the default
.Pa /etc/nsd/nsd.conf .
If
.Pa none
is specified, no config file is read (for use with -o and -z).
.It Fl d Ar directory
Change the working directory to
.Ar directory
before doing any work. Overrides zonesdir: option in config file.
.It Fl f Ar database
Create the specified
.Ar database
instead of the file specified as database: in the config file.

.It Fl o Ar origin
Use this as the first origin. Zone information is read from 
zonefile specified with -z.
When reading zones from config file this option is ignored.
.It Fl z Ar zonefile
Reads all zone information from
.Ar zonefile .
If 
.Ar zonefile
equals `-` then all zone information is read from stdin. Making constructs like:

.Ic cat zones* | ./zonec -c none -f nsd.db -o example.net -z -

possible.
When reading zones from config file this option is ignored.

.It Fl v
Increase the verbosity of zonec.  This flag can be specified multiple
times to increase the level of verbosity.  The first level of
verbosity will print per zone summary information.  The second level
of will print progress information for each 10,000 RRs processed.
.It Fl F
Set debug facilities. (If compiled with --enable-checking.)
.It Fl L
Set debug level. (If compiled with --enable-checking.)
.El
.Sh FILES
.Bl -tag -width indent
.It Pa /etc/nsd/nsd.db
default
.Ic NSD
database
.It Pa /etc/nsd/nsd.conf
default
.Ic NSD
configuration file
.El
.Sh DIAGNOSTICS
.Ic zonec
will log all the problems via the standard error output and
progress via stdout if
.Fl v
option is specified.
.Sh SEE ALSO
.Xr nsd 8 ,
.Xr nsd.conf 5 ,
.Xr nsd-checkconf 8 ,
.Xr nsd-notify 8 ,
.Xr nsd-xfer 8 ,
.Xr nsdc 8
.Sh AUTHORS
.Ic NSD
was written by NLnet Labs and RIPE NCC joint team. Please see CREDITS file
in the distribution for further details.
.Sh BUGS
.Ic Zonec
has rather weak error diagnostics that will change in further versions.
.Ic Zonec
expects the input files to be free of syntax errors and very little
fool proof checks are done.
